<head>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<div class="raised-block rounded">
  <div clss="container">
    <div class="row">
      <div class="col-md">
          <div
          class="list-group-item list-group-item-action"
          style="background-color: rgba(255, 255, 255, 0.507);"
        >
        <div class="text-center">
            <span class="badge badge-pill badge-primary float-right">{{ currentUser.points }} Available Points</span>
            <br/>
        <h2 class="tracking-in-expand">
          <span class="arrows" (click)="prev()">
            <i class="material-icons">chevron_left</i> </span
          >Tasks for<span class="arrows" (click)="next()">
              <i class="material-icons">chevron_right</i>
            </span> <br/>{{ displayDate
          }}
        </h2>
      </div>
      </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md">
        
      </div>
    </div>
    <!-- This is the  Task List-->
    <div
      class="list-group mx-auto"
      *ngFor="let task of taskList; let i = index"
    >
      <div
        class="list-group-item list-group-item-action"
        style="background-color: #ececec;"
      >
        <div class="row">
          <div class="col-sm-4">
            {{ task.name }}
          </div>
          <div class="col-sm-4">
            <label>
              <input
                type="checkbox"
                (change)="makeComplete($event.target.checked, i)"
                value="Complete"
                name="taskComplete"
              />
              <span>Complete</span>
            </label>

            <!-- <input type="checkbox" (change)="isChangeLimitAccessToggle($event.target.checked ? 'on' : 'off')" id="ifLimitAccess" class="switch-input"> -->
          </div>
          <div class="col-sm-4">
            <span id="points" class="badge badge-pill badge-secondary">{{ task.points }}</span>
            <div class="float-right">
              <div id="editbuttons">
                <button
                  id="editbuttons"
                  (click)="openDialog(task, true)"
                  id="link-button"
                >
                  Edit
                </button>
                &nbsp;
                <button
                  id="editbuttons"
                  (click)="openDialog(task, false)"
                  id="link-button"
                >
                  Del
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- End of the Task List-->

    <!-- This is the completed Task List-->
    <div>
      <br />
      <div
        class="list-group-item list-group-item-action rounded"
        style="background-color: rgba(255, 255, 255, 0.507);"
      >
        <h3 class="text-center">Completed Tasks</h3>
      </div>
      <div
        class="list-group mx-auto"
        *ngFor="let task of completedTaskList; let i = index"
      >
        <div
          class="list-group-item list-group-item-action"
          style="background-color: #a0e9b2;"
        >
          <div class="row">
            <div class="col-sm-4">
              {{ task.name }}
            </div>
            <div class="col-sm-4">
              <label>
                <input
                  type="checkbox"
                  (change)="makeUnComplete($event.target.checked, i)"
                  value="Complete"
                  name="taskComplete"
                  checked
                />
                <span>Complete</span>
              </label>
            </div>

            <div class="col-sm-4">
              <span id="points" class="badge badge-pill badge-success">{{ task.points }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- End of the completed Task List-->
  </div>
  <br />

  <div class="raised-block rounded">
    <div class="list-group mx-auto">
      <div
        class="list-group-item list-group-item-action"
        style="background-color: rgba(255, 255, 255, 0.664);"
      >
      <h3 class="text-center">Add Task</h3>
      </div>
      <div
        class="list-group-item list-group-item-action"
        style="background-color: #ececec;"
      >
        <div class="container">
          <br />
          <div class="row">
            <div class="input-field col-sm-3">
              <mat-form-field>
                <input
                  matInput
                  placeholder="Enter task name"
                  [(ngModel)]="addTask.name"
                />
              </mat-form-field>
            </div>
            <div class="col-sm-3">
              <mat-form-field>
                <input
                  matInput
                  [matDatepicker]="picker"
                  placeholder="Choose start date"
                  [(ngModel)]="addTask.startdate"
                />
                <mat-datepicker-toggle
                  matSuffix
                  [for]="picker"
                ></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
              </mat-form-field>
            </div>
            <div class="col-sm-3">
              <mat-form-field>
                <input
                  matInput
                  [matDatepicker]="picker2"
                  placeholder="Choose end date"
                  [(ngModel)]="addTask.enddate"
                />
                <mat-datepicker-toggle
                  matSuffix
                  [for]="picker2"
                ></mat-datepicker-toggle>
                <mat-datepicker #picker2></mat-datepicker>
              </mat-form-field>
            </div>
            <div class="col-sm-3">
              <mat-form-field>
                <input
                  matInput
                  placeholder="Enter points"
                  [(ngModel)]="addTask.points"
                />
              </mat-form-field>
            </div>
          </div>
        </div>
        <br />
        <div class="col-sm text-right">
          <button
            id="addButton"
            class="btn btn-sm btn-primary"
            (click)="OnAddTask()"
          >
            Add Task
          </button>
        </div>
      </div>
    </div>
    <br />
  </div>
</div>
